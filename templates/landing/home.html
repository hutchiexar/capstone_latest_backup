{% extends 'base_landing.html' %}
{% load static %}

{% block title %}Welcome to CTTMO Bayawan City{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-background"></div>
    <div class="hero-overlay"></div>
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <div class="govt-logos mb-4">
                    <div class="logo-container">
                        <img src="{% static 'images/logo.png' %}" alt="CTTMO Logo" class="govt-logo">
                    </div>
                    <div class="logo-container">
                        <img src="{% static 'images/logo_ibayaw.png' %}" alt="Bayawan City Seal" class="govt-logo">
                    </div>
                </div>
                
                <h1 class="hero-title">Welcome to CTTMO - Bayawan City</h1>
                <p class="hero-subtitle">Ensuring Safer and Smarter Roads</p>
                <p class="hero-text">Your partner in creating an organized, efficient, and safe traffic system for our growing city.</p>
                <div class="hero-buttons">
                    <a href="#services" class="btn btn-primary btn-lg me-3">Our Services</a>
                    {% if user.is_authenticated %}
                        {% if user.is_staff or user.is_superuser or user.userprofile.role == 'ADMIN' or user.userprofile.role == 'ADJUDICATOR' or user.userprofile.role == 'SUPERVISOR' or user.userprofile.role == 'TREASURER' or user.userprofile.role == 'EDUCATOR' %}
                            <a href="/admin-dashboard/" class="btn btn-outline-light btn-lg">Back to My Page</a>
                        {% else %}
                            <a href="/user/dashboard/" class="btn btn-outline-light btn-lg">Back to Portal</a>
                        {% endif %}
                    {% else %}
                        <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg">Join Us</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Key Features Section -->
<section class="services-section" id="services">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">Our Services</h2>
            <div class="section-title-underline mx-auto"></div>
            <p class="section-subtitle">Serving the citizens of Bayawan City with excellence and dedication</p>
        </div>
        
        <div class="row g-4 mt-4">
            <div class="col-lg-4 col-md-6">
                <div class="service-card">
                    <div class="service-icon-container">
                        <span class="material-icons service-icon">traffic</span>
                    </div>
                    <h3>Traffic Regulation</h3>
                    <div class="service-divider"></div>
                    <p>Professional management of traffic flow and enforcement of traffic rules for safer roads.</p>
                    <div class="service-footer">
                        <span class="govt-badge-small">Official Service</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="service-card">
                    <div class="service-icon-container">
                        <span class="material-icons service-icon">school</span>
                    </div>
                    <h3>Road Safety Education</h3>
                    <div class="service-divider"></div>
                    <p>Comprehensive programs to educate the public about road safety and traffic regulations.</p>
                    <div class="service-footer">
                        <span class="govt-badge-small">Official Service</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="service-card">
                    <div class="service-icon-container">
                        <span class="material-icons service-icon">report_problem</span>
                    </div>
                    <h3>Violation Reporting</h3>
                    <div class="service-divider"></div>
                    <p>Efficient system for reporting and managing traffic violations and concerns.</p>
                    <div class="service-footer">
                        <span class="govt-badge-small">Official Service</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Us Section -->
<section class="about-section" id="about">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-5">
                <div class="about-logo-container">
                    <div class="about-logo-bg"></div>
                    <img src="{% static 'images/logo.png' %}" alt="CTTMO Logo" class="img-fluid about-logo">
                    <div class="govt-badge about-badge">
                        <span class="govt-text">OFFICIAL GOVERNMENT AGENCY</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-7">
                <div class="about-content">
                    <h2 class="section-title">About CTTMO</h2>
                    <div class="section-title-underline"></div>
                    <p class="section-text">The City Traffic and Transportation Management Office (CTTMO) of Bayawan City is dedicated to providing efficient and effective traffic management services. We work tirelessly to ensure the safety and convenience of all road users through professional enforcement, modern technology, and community engagement.</p>
                    <div class="mission-vision">
                        <div class="mission mb-4">
                            <h4><span class="material-icons">stars</span> Our Mission</h4>
                            <p>To create and maintain a safe, efficient, and organized traffic system that serves the needs of our growing community.</p>
                        </div>
                        <div class="vision">
                            <h4><span class="material-icons">visibility</span> Our Vision</h4>
                            <p>To be the leading traffic management office in the region, setting standards for excellence in public service and road safety.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="contact-section" id="contact">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">Contact Us</h2>
            <div class="section-title-underline mx-auto"></div>
            <p class="section-subtitle">We're here to serve and assist you</p>
        </div>
        
        <div class="row g-4 align-items-center">
            <div class="col-lg-5">
                <div class="contact-info-container">
                    <div class="contact-info-bg"></div>
                    <div class="contact-info">
                        <div class="contact-item">
                            <div class="contact-icon-container">
                                <span class="material-icons">location_on</span>
                            </div>
                            <div class="contact-text">
                                <h5>Our Office</h5>
                                <p>2nd Floor, New DRRM Building<br>Gomez St., Poblacion, Bayawan City</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon-container">
                                <span class="material-icons">schedule</span>
                            </div>
                            <div class="contact-text">
                                <h5>Office Hours</h5>
                                <p>Monday - Friday: 8:00 AM - 5:00 PM<br>Saturday: 8:00 AM - 12:00 PM</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon-container">
                                <span class="material-icons">phone</span>
                            </div>
                            <div class="contact-text">
                                <h5>Phone</h5>
                                <p>+63 123 456 7890</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon-container">
                                <span class="material-icons">email</span>
                            </div>
                            <div class="contact-text">
                                <h5>Email</h5>
                                <p>info@cttmo.bayawan.gov.ph</p>
                            </div>
                        </div>
                        <div class="govt-badge contact-badge">
                            <span class="govt-text">OFFICIAL CONTACT INFORMATION</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7">
                <div class="map-container">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3935.5455669040396!2d122.80000001441091!3d9.362700793284527!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33ab5244580012d7%3A0x7cebd1c12306dfe8!2sBayawan%20City%20Hall!5e0!3m2!1sen!2sph!4v1645437891234!5m2!1sen!2sph"
                        width="100%"
                        height="450"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    :root {
        --primary-rgb: 0, 35, 102; /* RGB values for primary color #002366 */
    }
    
    /* Government Logos Styles */
    .govt-logos {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 3rem;
    }
    
    .logo-container {
        flex: 0 0 auto;
    }
    
    .govt-logo {
        width: 100px;
        height: auto;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        transition: transform 0.3s ease;
    }
    
    .govt-logo:hover {
        transform: scale(1.05);
    }
    
    @media (max-width: 768px) {
        .govt-logos {
            gap: 2rem;
        }
        
        .govt-logo {
            width: 80px;
        }
    }
    
    @media (max-width: 576px) {
        .govt-logos {
            gap: 1.5rem;
        }
        
        .govt-logo {
            width: 70px;
        }
    }
    
    /* Government Header Styles */
    .govt-header-content {
        background-color: transparent;
    }
    
    .header-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 2rem;
    }
    
    .header-text-container {
        flex: 0 1 auto;
        text-align: center;
    }
    
    .govt-office-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: #fff;
        margin-bottom: 0.2rem;
        letter-spacing: 0.5px;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    }
    
    .govt-office-subtitle {
        font-size: 1rem;
        font-weight: 600;
        color: #fff;
        margin-bottom: 0.2rem;
        letter-spacing: 0.5px;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    }
    
    .govt-office-address {
        font-size: 0.85rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 0.2rem;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }
    
    /* Base Transitions */
    .hero, .hero-background, .hero-overlay, .hero-title, .hero-subtitle, 
    .hero-text, .govt-badge, .govt-seal, .seal-left, .seal-right, 
    .seal-divider, .btn, .feature-card, .news-card, .contact-item,
    .feature-card .material-icons, .mission-vision h4, .news-card img {
        transition: all 0.4s ease;
    }
    
    /* Hero Section */
    .hero {
        padding: 8rem 0;
        position: relative;
        overflow: hidden;
        color: #fff;
        animation: fadeIn 1s ease-in-out;
        will-change: opacity;
    }

    .hero-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #001a4d; /* Placeholder color until image loads */
        background-size: cover;
        background-position: center center;
        filter: brightness(0.5);
        z-index: -1;
        will-change: transform;
        transform: translateZ(0);
        opacity: 0; /* Start invisible for smoother loading */
        transition: opacity 0.8s ease;
    }
    
    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(rgba(0, 35, 102, 0.8), rgba(0, 35, 102, 0.6));
        z-index: -1;
    }
    
    .govt-badge {
        display: inline-block;
        border: 2px solid rgba(255, 215, 0, 0.7);
        padding: 0.5rem 2rem;
        border-radius: 4px;
        animation: fadeInDown 0.8s ease-out;
        will-change: opacity, transform;
        background-color: rgba(0, 35, 102, 0.3);
    }
    
    .govt-text {
        font-size: 0.9rem;
        font-weight: 600;
        letter-spacing: 1px;
        color: rgba(255, 255, 255, 0.9);
    }
    
    .govt-seal {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin: 0 auto;
        max-width: 300px;
        animation: fadeInUp 0.8s ease-out 0.2s backwards;
        will-change: opacity, transform;
    }
    
    .seal-left, .seal-right {
        width: 100px;
        height: 100px;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
    }
    
    .seal-left img, .seal-right img {
        max-width: 100%;
        max-height: 100%;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        transform: translateZ(0);
    }
    
    .seal-left:hover, .seal-right:hover {
        transform: scale(1.05);
        background-color: rgba(255, 255, 255, 0.2);
    }
    
    .seal-divider {
        width: 2px;
        height: 70px;
        background-color: rgba(255, 255, 255, 0.7);
    }

    .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        color: #fff;
        margin-bottom: 1.5rem;
        line-height: 1.2;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        animation: fadeInUp 0.8s ease-out 0.4s backwards;
        will-change: opacity, transform;
    }

    .hero-subtitle {
        font-size: 1.5rem;
        color: #fff;
        margin-bottom: 1rem;
        font-weight: 600;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        animation: fadeInUp 0.8s ease-out 0.6s backwards;
    }

    .hero-text {
        font-size: 1.1rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 2rem;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        animation: fadeInUp 0.8s ease-out 0.8s backwards;
    }
    
    .hero-buttons {
        animation: fadeInUp 0.8s ease-out 1s backwards;
    }

    /* Services Section */
    .services-section {
        padding: 6rem 0;
        background-color: #fff;
        position: relative;
    }
    
    .section-header {
        margin-bottom: 3rem;
    }
    
    .section-subtitle {
        color: var(--text-light);
        margin-top: 1.5rem;
        font-size: 1.1rem;
    }
    
    .service-card {
        background: #fff;
        border-radius: 0.5rem;
        border: 1px solid rgba(var(--primary-rgb), 0.1);
        overflow: hidden;
        height: 100%;
        transition: transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1), 
                    box-shadow 0.4s cubic-bezier(0.165, 0.84, 0.44, 1),
                    border-color 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        position: relative;
        padding: 2.5rem 1.8rem 1.8rem;
        text-align: center;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        will-change: transform;
    }
    
    .service-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        border-color: rgba(var(--primary-rgb), 0.2);
    }
    
    .service-icon-container {
        width: 80px;
        height: 80px;
        background-color: rgba(var(--primary-rgb), 0.08);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        position: relative;
        transition: all 0.4s ease;
    }
    
    .service-icon-container::after {
        content: '';
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        border: 2px dashed rgba(var(--primary-rgb), 0.2);
        border-radius: 50%;
        animation: optimizedSpin 30s linear infinite;
        will-change: transform;
    }
    
    .service-card:hover .service-icon-container {
        background-color: rgba(var(--primary-rgb), 0.12);
        transform: scale(1.1);
    }
    
    .service-icon {
        font-size: 2.8rem;
        color: var(--primary-color);
        transition: all 0.4s ease;
    }
    
    .service-card:hover .service-icon {
        transform: scale(1.1);
    }
    
    .service-card h3 {
        font-size: 1.4rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 1rem;
    }
    
    .service-divider {
        width: 40px;
        height: 3px;
        background: var(--primary-color);
        margin: 1rem auto;
        position: relative;
        transition: width 0.3s ease;
    }
    
    .service-card:hover .service-divider {
        width: 60px;
    }
    
    .service-card p {
        color: var(--text-light);
        margin-bottom: 1.5rem;
        font-size: 0.95rem;
        line-height: 1.6;
    }
    
    .service-footer {
        margin-top: auto;
        padding-top: 1rem;
    }
    
    .govt-badge-small {
        font-size: 0.75rem;
        font-weight: 600;
        color: rgba(var(--primary-rgb), 0.8);
        background-color: rgba(var(--primary-rgb), 0.05);
        padding: 0.3rem 0.8rem;
        border-radius: 3px;
        letter-spacing: 0.5px;
        display: inline-block;
        border: 1px solid rgba(var(--primary-rgb), 0.1);
    }
    
    @keyframes optimizedSpin {
        0% { transform: rotate(0deg) translateZ(0); }
        100% { transform: rotate(360deg) translateZ(0); }
    }
    
    @media (max-width: 768px) {
        .service-card {
            margin-bottom: 1.5rem;
            padding: 2rem 1.5rem 1.5rem;
        }
        
        .service-icon-container {
            width: 70px;
            height: 70px;
        }
        
        .service-icon {
            font-size: 2.4rem;
        }
        
        .service-card h3 {
            font-size: 1.3rem;
        }
    }

    /* About Section */
    .about-section {
        padding: 6rem 0;
        background-color: #f8f9fa;
        position: relative;
    }

    .about-section:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('{% static "images/background.jpg" %}') no-repeat fixed center center;
        background-size: cover;
        opacity: 0.03;
    }
    
    .about-logo-container {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        margin-bottom: 2rem;
    }
    
    .about-logo-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(var(--primary-rgb), 0.03);
        border-radius: 1rem;
        z-index: -1;
        border: 2px solid rgba(var(--primary-rgb), 0.08);
    }
    
    .about-logo {
        max-width: 70%;
        margin: 1.5rem 0;
        filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.1));
        transition: transform 0.5s ease;
    }
    
    .about-logo:hover {
        transform: scale(1.05);
    }
    
    .about-badge {
        position: relative;
        margin-top: 1rem;
        margin-bottom: 0;
        animation: none;
        background-color: rgba(var(--primary-rgb), 0.8);
    }
    
    .section-title-underline {
        width: 80px;
        height: 4px;
        background: var(--primary-color);
        margin-bottom: 1.5rem;
        position: relative;
    }
    
    .section-title-underline::after {
        content: '';
        position: absolute;
        right: -20px;
        top: 0;
        width: 10px;
        height: 4px;
        background: var(--accent-color);
    }
    
    .about-content {
        padding: 1rem;
        border-left: 3px solid var(--primary-color);
        padding-left: 2rem;
    }

    .mission-vision h4 {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--primary-color);
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .mission-vision .material-icons {
        font-size: 1.5rem;
        color: var(--accent-color);
        background-color: rgba(var(--primary-rgb), 0.1);
        padding: 5px;
        border-radius: 50%;
    }
    
    @media (max-width: 991.98px) {
        .about-content {
            border-left: none;
            padding-left: 1rem;
            margin-top: 2rem;
        }
        
        .about-logo {
            max-width: 50%;
        }
    }

    /* Contact Section */
    .contact-section {
        padding: 6rem 0;
        background-color: #f8f9fa;
        position: relative;
    }

    .contact-section:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('{% static "images/background.jpg" %}') no-repeat fixed bottom center;
        background-size: cover;
        opacity: 0.05;
    }

    .contact-info-container {
        position: relative;
        padding: 2rem;
        margin-bottom: 2rem;
    }

    .contact-info-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #fff;
        border-radius: 1rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        z-index: -1;
        border: 1px solid rgba(var(--primary-rgb), 0.1);
    }

    .contact-info {
        position: relative;
        padding: 1.5rem;
    }

    .contact-item {
        display: flex;
        align-items: flex-start;
        gap: 1.5rem;
        margin-bottom: 2.5rem;
        transition: all 0.4s ease;
        position: relative;
    }

    .contact-item:last-of-type {
        margin-bottom: 2rem;
    }

    .contact-icon-container {
        width: 60px;
        height: 60px;
        background-color: rgba(var(--primary-rgb), 0.08);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        transition: all 0.4s ease;
        flex-shrink: 0;
    }

    .contact-icon-container::after {
        content: '';
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        border: 2px dashed rgba(var(--primary-rgb), 0.2);
        border-radius: 50%;
        animation: optimizedSpin 30s linear infinite;
        will-change: transform;
    }

    .contact-item:hover .contact-icon-container {
        background-color: rgba(var(--primary-rgb), 0.12);
        transform: scale(1.1) rotate(10deg);
    }

    .contact-item .material-icons {
        font-size: 2rem;
        color: var(--primary-color);
        transition: all 0.4s ease;
    }

    .contact-text {
        flex-grow: 1;
    }

    .contact-text h5 {
        font-size: 1.2rem;
        color: var(--text-dark);
        margin-bottom: 0.5rem;
        font-weight: 700;
    }

    .contact-text p {
        color: var(--text-light);
        margin-bottom: 0;
        font-size: 1rem;
        line-height: 1.6;
    }

    .contact-badge {
        margin-top: 0.5rem;
        margin-bottom: 0;
        animation: none;
        background-color: rgba(var(--primary-rgb), 0.8);
        width: 100%;
        text-align: center;
    }

    .map-container {
        border-radius: 1rem;
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        height: 100%;
        min-height: 450px;
        border: 1px solid rgba(var(--primary-rgb), 0.1);
    }

    @media (max-width: 991.98px) {
        .contact-info-container {
            padding: 1rem;
        }

        .contact-info {
            padding: 1rem;
        }

        .map-container {
            margin-top: 1rem;
        }
    }

    @media (max-width: 767.98px) {
        .contact-icon-container {
            width: 50px;
            height: 50px;
        }

        .contact-item .material-icons {
            font-size: 1.6rem;
        }

        .contact-text h5 {
            font-size: 1.1rem;
        }

        .contact-text p {
            font-size: 0.95rem;
        }
    }

    /* Animations */
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
    
    @keyframes fadeInDown {
        from {
            opacity: 0;
            transform: translateY(-30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Optimize animation calculations */
    @keyframes optimizedSlowZoom {
        from { transform: scale(1) translateZ(0); }
        to { transform: scale(1.08) translateZ(0); }
    }
    
    .hero-background.loaded {
        animation: optimizedSlowZoom 30s infinite alternate;
        animation-timing-function: cubic-bezier(0.1, 0.1, 0.25, 1);
    }

    /* More efficient fade-in-element implementation */
    .fade-in-element {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease, transform 0.8s cubic-bezier(0.1, 0.1, 0.25, 1);
        will-change: opacity, transform;
    }
    
    .fade-in-element.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Responsive Adjustments */
    @media (max-width: 991.98px) {
        .hero {
            padding: 5rem 0;
        }

        .hero-title {
            font-size: 2.8rem;
        }

        .hero-subtitle {
            font-size: 1.25rem;
        }

        .hero-text {
            padding: 0 1rem;
        }
        
        .govt-seal {
            max-width: 280px;
        }
        
        .seal-left, .seal-right {
            width: 90px;
            height: 90px;
        }
    }

    @media (max-width: 767.98px) {
        .hero {
            padding: 4rem 0;
        }
        
        .hero-title {
            font-size: 2.2rem;
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
        }
        
        .hero-buttons .btn {
            margin-bottom: 1rem;
        }
        
        .govt-badge {
            padding: 0.4rem 1.5rem;
        }
        
        .govt-text {
            font-size: 0.8rem;
        }
        
        .govt-seal {
            max-width: 240px;
            gap: 15px;
        }
        
        .seal-left, .seal-right {
            width: 80px;
            height: 80px;
            padding: 8px;
        }
        
        .seal-divider {
            height: 60px;
        }

        .feature-card,
        .news-card {
            margin-bottom: 1.5rem;
        }

        .contact-info {
            margin-bottom: 2.5rem;
        }
        
        .section-title {
            font-size: 1.8rem;
        }
    }
    
    @media (max-width: 480px) {
        .govt-seal {
            max-width: 200px;
            gap: 10px;
        }
        
        .seal-left, .seal-right {
            width: 70px;
            height: 70px;
            padding: 6px;
        }
        
        .seal-divider {
            height: 50px;
        }
        
        .hero-buttons .btn {
            display: block;
            width: 100%;
            margin-right: 0 !important;
        }
        
        .btn-primary {
            margin-bottom: 1rem;
        }
    }

    /* Force hardware acceleration for smoother animations */
    .hero-title, .hero-subtitle, .hero-text, .govt-badge, .govt-seal, 
    .feature-card, .news-card, .contact-item {
        transform: translateZ(0);
        backface-visibility: hidden;
        perspective: 1000px;
    }
    
    /* Optimize animations for mobile */
    @media (prefers-reduced-motion: reduce) {
        .hero-background {
            animation: none;
        }
        
        .hero, .hero-title, .hero-subtitle, .hero-text, 
        .govt-badge, .govt-seal {
            animation: none !important;
            opacity: 1 !important;
        }
        
        .feature-card:hover,
        .news-card:hover, 
        .contact-item:hover {
            transform: none !important;
        }
        
        .fade-in-element {
            transition: opacity 0.5s ease;
            transform: none;
        }
    }
</style>

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Optimize image loading
        function loadHeroBackground() {
            const heroBackground = document.querySelector('.hero-background');
            if (heroBackground) {
                const img = new Image();
                img.crossOrigin = "anonymous";
                img.src = '{% static "images/background.jpg" %}';
                
                img.onload = function() {
                    // Apply image once it's loaded
                    heroBackground.style.backgroundImage = `url('${img.src}')`;
                    heroBackground.style.opacity = '1';
                    heroBackground.classList.add('loaded');
                };
                
                // Fallback in case image takes too long
                setTimeout(() => {
                    if (parseFloat(heroBackground.style.opacity) === 0) {
                        heroBackground.style.backgroundImage = `url('{% static "images/background.jpg" %}')`;
                        heroBackground.style.opacity = '1';
                        heroBackground.classList.add('loaded');
                    }
                }, 1000);
            }
        }
        
        // Load background with slight delay to prioritize core content
        setTimeout(loadHeroBackground, 100);
        
        // Optimize scroll animations with Intersection Observer
        const animatedElements = document.querySelectorAll('.service-card, .about-logo-container, .contact-item, .section-title');
        
        // Add fade-in-element class to all elements that should animate
        animatedElements.forEach(element => {
            element.classList.add('fade-in-element');
        });
        
        // Use Intersection Observer instead of scroll events
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    // Unobserve after animation is triggered
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);
        
        // Observe all elements
        animatedElements.forEach(element => {
            observer.observe(element);
        });
        
        // Optimize service card interactions by using event delegation
        const servicesSection = document.querySelector('.services-section');
        if (servicesSection) {
            servicesSection.addEventListener('mouseover', function(e) {
                const serviceCard = e.target.closest('.service-card');
                if (serviceCard) {
                    // Apply hover effects efficiently
                    serviceCard.style.transform = 'translateY(-10px)';
                }
            });
            
            servicesSection.addEventListener('mouseout', function(e) {
                const serviceCard = e.target.closest('.service-card');
                if (serviceCard) {
                    // Remove hover effects
                    serviceCard.style.transform = '';
                }
            });
        }
    });
</script>
{% endblock %}
{% endblock %} 