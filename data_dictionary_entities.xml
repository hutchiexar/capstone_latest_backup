
        <mxCell id="entity_ActivityLog" value="&lt;b&gt;ActivityLog&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="160" width="400" height="230" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_ActivityLog_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK user: ForeignKey [-&gt; User]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_ActivityLog">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_ActivityLog_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; timestamp: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_ActivityLog">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_ActivityLog_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; action: CharField [max_length=255]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_ActivityLog">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_ActivityLog_field_3" value="details: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_ActivityLog">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_ActivityLog_field_4" value="&lt;span style='color:red'&gt;*&lt;/span&gt; category: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_ActivityLog">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_ActivityLog_field_5" value="ip_address: GenericIPAddressField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_ActivityLog">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_Announcement" value="&lt;b&gt;Announcement&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="420" width="400" height="500" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_Announcement_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; title: CharField [max_length=200]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; content: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK created_by: ForeignKey [-&gt; User]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_4" value="&lt;span style='color:red'&gt;*&lt;/span&gt; updated_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_5" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_active: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_6" value="&lt;span style='color:red'&gt;*&lt;/span&gt; priority: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="230" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_7" value="&lt;span style='color:red'&gt;*&lt;/span&gt; category: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="260" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_8" value="&lt;span style='color:red'&gt;*&lt;/span&gt; target_audience: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="290" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_9" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_popup: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="320" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_10" value="&lt;span style='color:red'&gt;*&lt;/span&gt; requires_acknowledgment: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="350" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_11" value="publish_date: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="380" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_12" value="expiration_date: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="410" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_13" value="geographic_area: CharField [max_length=255]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="440" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Announcement_field_14" value="&lt;span style='color:red'&gt;*&lt;/span&gt; view_count: PositiveIntegerField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Announcement">
              <mxGeometry y="470" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_AnnouncementAcknowledgment" value="&lt;b&gt;AnnouncementAcknowledgment&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="950" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_Driver" value="&lt;b&gt;Driver&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;"""Model representing a driver""" last_name = models.CharField(max_length=100) first_name = models.CharField(max_length=100) middle_initial = models.CharField(max_length=10, blank=True, null=True) address = models.TextField() old_pd_number = models.CharField(max_length=20, blank=True, null=True) new_pd_number = models.CharField(max_length=20, unique=True, blank=True, null=True) license_number = models.CharField(max_length=50, blank=True, null=True) contact_number = models.CharField(max_length=20, blank=True, null=True) birthdate = models.DateField(blank=True, null=True) emergency_contact_name = models.CharField(max_length=100, blank=True, null=True) emergency_contact = models.CharField(max_length=100, blank=True, null=True) emergency_contact_number = models.CharField(max_length=20, blank=True, null=True) active = models.BooleanField(default=True) expiration_date = models.DateField(blank=True, null=True) operator = models.ForeignKey(Operator, on_delete=models.SET_NULL, null=True, blank=True, related_name='drivers') created_at = models.DateTimeField(auto_now_add=True) updated_at = models.DateTimeField(auto_now=True)  class Meta: ordering = ['last_name', 'first_name']  def __str__(self): return f"{self.last_name}, {self.first_name} ({self.new_pd_number})"  def get_full_name(self):&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1030" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_DriverVehicleAssignment" value="&lt;b&gt;DriverVehicleAssignment&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;"""Model to track the relationship between drivers and vehicles with history""" driver = models.ForeignKey(Driver, on_delete=models.CASCADE, related_name='vehicle_assignments') vehicle = models.ForeignKey(Vehicle, on_delete=models.CASCADE, related_name='driver_assignments') start_date = models.DateTimeField(auto_now_add=True) end_date = models.DateTimeField(null=True, blank=True) is_active = models.BooleanField(default=True) notes = models.TextField(blank=True, null=True) created_by = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, blank=True)  class Meta: verbose_name = 'Driver-Vehicle Assignment' verbose_name_plural = 'Driver-Vehicle Assignments' ordering = ['-start_date']  def __str__(self): return f"{self.driver} assigned to {self.vehicle}"  def end_assignment(self):&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1110" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_EducationalCategory" value="&lt;b&gt;EducationalCategory&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1190" width="400" height="170" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_EducationalCategory_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; title: CharField [max_length=100]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalCategory">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalCategory_field_1" value="description: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalCategory">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalCategory_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; order: IntegerField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalCategory">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalCategory_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalCategory">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_EducationalTopic" value="&lt;b&gt;EducationalTopic&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1390" width="400" height="260" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_EducationalTopic_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; title: CharField [max_length=200]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalTopic_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; content: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalTopic_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK category: ForeignKey [-&gt; EducationalCategory, (topics)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalTopic_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_published: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalTopic_field_4" value="FK created_by: ForeignKey [-&gt; User, (created_topics)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalTopic_field_5" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_EducationalTopic_field_6" value="updated_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_EducationalTopic">
              <mxGeometry y="230" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_EmailVerificationToken" value="&lt;b&gt;EmailVerificationToken&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1680" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_LocationHistory" value="&lt;b&gt;LocationHistory&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1760" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_Operator" value="&lt;b&gt;Operator&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1840" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_OperatorApplication" value="&lt;b&gt;OperatorApplication&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="1920" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_OperatorType" value="&lt;b&gt;OperatorType&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="2000" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_Payment" value="&lt;b&gt;Payment&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="2080" width="400" height="200" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_Payment_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK violation: OneToOneField [-&gt; Violation]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Payment">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Payment_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; amount_paid: DecimalField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Payment">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Payment_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; payment_date: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Payment">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Payment_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; payment_method: CharField [max_length=50]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Payment">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Payment_field_4" value="&lt;span style='color:red'&gt;*&lt;/span&gt; PK transaction_id: CharField [max_length=100]" style="text;strokeColor=#82b366;fillColor=#d5e8d4;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Payment">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_Quiz" value="&lt;b&gt;Quiz&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="2310" width="400" height="290" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_Quiz_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; title: CharField [max_length=200]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_1" value="description: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_2" value="FK topic: ForeignKey [-&gt; EducationalTopic, (quizzes)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; passing_score: PositiveIntegerField - Minimum percentage required to pass" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_4" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_published: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_5" value="FK created_by: ForeignKey [-&gt; User, (created_quizzes)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_6" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="230" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Quiz_field_7" value="&lt;span style='color:red'&gt;*&lt;/span&gt; updated_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Quiz">
              <mxGeometry y="260" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_QuizAnswer" value="&lt;b&gt;QuizAnswer&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="2630" width="400" height="170" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_QuizAnswer_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK question: ForeignKey [-&gt; QuizQuestion, (answers)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizAnswer">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizAnswer_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; text: CharField [max_length=255]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizAnswer">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizAnswer_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_correct: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizAnswer">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizAnswer_field_3" value="explanation: TextField - Explanation for why this answer is correct/incorrect" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizAnswer">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_QuizQuestion" value="&lt;b&gt;QuizQuestion&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="2830" width="400" height="230" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_QuizQuestion_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK quiz: ForeignKey [-&gt; Quiz, (questions)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizQuestion">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizQuestion_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; text: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizQuestion">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizQuestion_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; question_type: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizQuestion">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizQuestion_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; points: PositiveIntegerField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizQuestion">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizQuestion_field_4" value="&lt;span style='color:red'&gt;*&lt;/span&gt; order: PositiveIntegerField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizQuestion">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_QuizQuestion_field_5" value="image: ImageField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_QuizQuestion">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_TopicAttachment" value="&lt;b&gt;TopicAttachment&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="3090" width="400" height="230" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_TopicAttachment_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK topic: ForeignKey [-&gt; EducationalTopic, (attachments)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_TopicAttachment">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_TopicAttachment_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; file: FileField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_TopicAttachment">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_TopicAttachment_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; file_type: CharField [max_length=10]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_TopicAttachment">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_TopicAttachment_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; title: CharField [max_length=255]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_TopicAttachment">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_TopicAttachment_field_4" value="description: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_TopicAttachment">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_TopicAttachment_field_5" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_TopicAttachment">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_UserBookmark" value="&lt;b&gt;UserBookmark&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="3350" width="400" height="140" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_UserBookmark_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK user: ForeignKey [-&gt; User, (bookmarks)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserBookmark">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserBookmark_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK topic: ForeignKey [-&gt; EducationalTopic, (bookmarked_by)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserBookmark">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserBookmark_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserBookmark">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_UserProfile" value="&lt;b&gt;UserProfile&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="3520" width="400" height="650" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_UserProfile_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK user: OneToOneField [-&gt; User]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_1" value="PK enforcer_id: CharField [max_length=10, unique]" style="text;strokeColor=#82b366;fillColor=#d5e8d4;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_2" value="avatar: ImageField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; phone_number: CharField [max_length=15]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_4" value="contact_number: CharField [max_length=15]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_5" value="&lt;span style='color:red'&gt;*&lt;/span&gt; address: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_6" value="qr_code: ImageField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="230" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_7" value="&lt;span style='color:red'&gt;*&lt;/span&gt; role: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="260" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_8" value="latitude: DecimalField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="290" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_9" value="longitude: DecimalField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="320" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_10" value="last_location_update: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="350" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_11" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_active_duty: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="380" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_12" value="license_number: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="410" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_13" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_operator: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="440" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_14" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_driver: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="470" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_15" value="operator_since: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="500" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_16" value="birthdate: DateField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="530" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_17" value="emergency_contact_name: CharField [max_length=100]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="560" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_18" value="emergency_contact_number: CharField [max_length=15]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="590" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProfile_field_19" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_email_verified: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProfile">
              <mxGeometry y="620" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_UserProgress" value="&lt;b&gt;UserProgress&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="4200" width="400" height="200" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_UserProgress_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK user: ForeignKey [-&gt; User, (progress)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProgress">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProgress_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK topic: ForeignKey [-&gt; EducationalTopic, (user_progress)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProgress">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProgress_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_completed: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProgress">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProgress_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; last_accessed: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProgress">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserProgress_field_4" value="completed_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserProgress">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_UserQuestionResponse" value="&lt;b&gt;UserQuestionResponse&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="4430" width="400" height="200" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_UserQuestionResponse_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK attempt: ForeignKey [-&gt; UserQuizAttempt, (responses)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuestionResponse">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuestionResponse_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK question: ForeignKey [-&gt; QuizQuestion]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuestionResponse">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuestionResponse_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK selected_answer: ForeignKey [-&gt; QuizAnswer]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuestionResponse">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuestionResponse_field_3" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_correct: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuestionResponse">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuestionResponse_field_4" value="&lt;span style='color:red'&gt;*&lt;/span&gt; points_earned: PositiveIntegerField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuestionResponse">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_UserQuizAttempt" value="&lt;b&gt;UserQuizAttempt&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="4660" width="400" height="260" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_UserQuizAttempt_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK user: ForeignKey [-&gt; User, (quiz_attempts)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuizAttempt_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; FK quiz: ForeignKey [-&gt; Quiz, (attempts)]" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuizAttempt_field_2" value="&lt;span style='color:red'&gt;*&lt;/span&gt; start_time: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuizAttempt_field_3" value="end_time: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuizAttempt_field_4" value="score: DecimalField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuizAttempt_field_5" value="is_passed: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_UserQuizAttempt_field_6" value="&lt;span style='color:red'&gt;*&lt;/span&gt; is_completed: BooleanField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_UserQuizAttempt">
              <mxGeometry y="230" width="400" height="30" as="geometry" />
            </mxCell>
            
        <mxCell id="entity_Vehicle" value="&lt;b&gt;Vehicle&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;"""Model to track which users have acknowledged which announcements""" announcement = models.ForeignKey(Announcement, on_delete=models.CASCADE) user = models.ForeignKey(User, on_delete=models.CASCADE) acknowledged_at = models.DateTimeField(auto_now_add=True)  class Meta: unique_together = ['announcement', 'user'] verbose_name = 'Announcement Acknowledgment' verbose_name_plural = 'Announcement Acknowledgments'  def __str__(self): return f"{self.user.username} acknowledged {self.announcement.title}"  """Model to track location history for enforcers""" user_profile = models.ForeignKey(UserProfile, on_delete=models.CASCADE, related_name='location_history') latitude = models.DecimalField(max_digits=9, decimal_places=6) longitude = models.DecimalField(max_digits=9, decimal_places=6) accuracy = models.FloatField(blank=True, null=True) heading = models.FloatField(blank=True, null=True) speed = models.FloatField(blank=True, null=True) is_active_duty = models.BooleanField(default=True) battery_level = models.FloatField(blank=True, null=True) timestamp = models.DateTimeField(auto_now_add=True) device_info = models.JSONField(blank=True, null=True)  class Meta: verbose_name = 'Location History' verbose_name_plural = 'Location Histories' ordering = ['-timestamp'] indexes = [ models.Index(fields=['timestamp']), models.Index(fields=['user_profile', 'timestamp']), ]  def __str__(self): return f"{self.user_profile.user.get_full_name()} - {self.timestamp}"   """Model to store different types of operators (Potpot, Jeepney, Tricycle, etc.)""" name = models.CharField(max_length=100, unique=True) description = models.TextField(blank=True, null=True) created_at = models.DateTimeField(auto_now_add=True) updated_at = models.DateTimeField(auto_now=True)  class Meta: verbose_name = 'Operator Type' verbose_name_plural = 'Operator Types' ordering = ['name']  def __str__(self): return self.name   """Model to store vehicle information linked to an operator""" operator = models.ForeignKey(Operator, on_delete=models.CASCADE) old_pd_number = models.CharField(max_length=50, blank=True, null=True) new_pd_number = models.CharField(max_length=50, unique=True, blank=True, null=True) potpot_number = models.CharField(max_length=50, blank=True, null=True, help_text="Potpot identification number") vehicle_type = models.CharField(max_length=100, choices=[ ('Jeepney', 'Jeepney'), ('Tricycle', 'Tricycle'), ('Potpot', 'Potpot'), ('Other', 'Other') ], default='Tricycle') plate_number = models.CharField(max_length=20, blank=True, null=True) engine_number = models.CharField(max_length=50, blank=True, null=True) chassis_number = models.CharField(max_length=50, blank=True, null=True) capacity = models.PositiveIntegerField(default=4, blank=True, null=True) year_model = models.CharField(max_length=4, blank=True, null=True) color = models.CharField(max_length=50, blank=True, null=True) active = models.BooleanField(default=True) notes = models.TextField(blank=True, null=True) created_at = models.DateTimeField(auto_now_add=True) updated_at = models.DateTimeField(auto_now=True)  class Meta: verbose_name = 'Vehicle' verbose_name_plural = 'Vehicles' ordering = ['operator__last_name', 'operator__first_name', 'new_pd_number']  def __str__(self): return f"{self.new_pd_number or 'No PD Number'} - {self.operator.full_name()}"  def generate_pd_number(self):&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="4950" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_Violation" value="&lt;b&gt;Violation&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;"""Model to store operator information""" last_name = models.CharField(max_length=100, db_index=True) first_name = models.CharField(max_length=100, db_index=True) middle_initial = models.CharField(max_length=10, blank=True, null=True) address = models.TextField() old_pd_number = models.CharField(max_length=50, blank=True, null=True, verbose_name="Old P.O. Number") new_pd_number = models.CharField(max_length=50, unique=True, verbose_name="New P.O. Number") po_number = models.CharField(max_length=20, unique=True, blank=True, null=True, verbose_name="Permit Operator Number") # Foreign key to operator type (will be added later as requested) # operator_type = models.ForeignKey(OperatorType, on_delete=models.PROTECT, related_name='operators') # Foreign key to user account (will be added later as requested) user = models.OneToOneField(User, on_delete=models.SET_NULL, null=True, blank=True, related_name='operator_profile') active = models.BooleanField(default=True) created_at = models.DateTimeField(auto_now_add=True) updated_at = models.DateTimeField(auto_now=True)  class Meta: verbose_name = 'Operator' verbose_name_plural = 'Operators' ordering = ['last_name', 'first_name'] indexes = [ models.Index(fields=['last_name', 'first_name']), models.Index(fields=['new_pd_number']), ]  def __str__(self): return f"{self.last_name}, {self.first_name} {self.middle_initial or ''} - {self.new_pd_number}"  def full_name(self): mi = f" {self.middle_initial}." if self.middle_initial else "" return f"{self.first_name}{mi} {self.last_name}"   STATUS_CHOICES = ( ('PENDING', 'Pending'), ('ADJUDICATED', 'Adjudicated'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('PAID', 'Paid'), ('SETTLED', 'Settled'), ('CONTESTED', 'Contested'), ('HEARING_SCHEDULED', 'Hearing Scheduled'), ('DISMISSED', 'Dismissed'), ('EXPIRED', 'Expired'), )  VIOLATION_CHOICES = [ ('Illegal Parking', 'Illegal Parking (DTS)'), ('Entering Prohibited Zones', 'Entering Prohibited Zones'), ('Obstruction', 'Obstruction'), ('Unlicensed Driver', 'Unlicensed Driver'), ('Permitting Hitching', 'Permitting Hitching/Over Loading Passenger(s)'), ('Unregistered MV', 'Unregistered MV'), ('Refusal to Convey', 'Refusal to convey to proper destination'), ('Discourteous Driver', 'Discourteous driver/Conduct'), ('Defective Lights', 'No/Defective Lights'), ('Expired OR/CR', 'Expired OR/CR'), ('No License', 'Failure to Carry DL'), ('No Permit', 'No MAYOR\'S PERMIT/MTOP/POP/PDP'), ('Overcharging', 'Overcharging'), ('DUI', 'Driving under the influence of liquor/drugs'), ('Defective Muffler', 'Operating a vehicle with Defective Muffler'), ('Dilapidated', 'Operating a Dilapidated Motorcab'), ('Reckless Driving', 'Reckless Driving'), ('Others', 'Others') ]  VEHICLE_CLASSIFICATIONS = [ ('Private', 'Private'), ('Public', 'Public'), ('Government', 'Government'), ('Commercial', 'Commercial') ]  # Add a submission tracking field submission_id = models.CharField(max_length=36, blank=True, null=True, help_text="UUID to track violations submitted together")  # Driver's Details novr_number = models.CharField(max_length=50, blank=True, null=True) pin_number = models.CharField(max_length=50, blank=True, null=True) pd_number = models.CharField(max_length=50, blank=True, null=True) driver_photo = models.ImageField(upload_to='driver_photos/', blank=True, null=True) driver_address = models.TextField(blank=True, null=True) driver_name = models.CharField(max_length=200, blank=True, null=True)  # Operator's Details potpot_number = models.CharField(max_length=50, blank=True, null=True) operator = models.ForeignKey(Operator, on_delete=models.SET_NULL, null=True, blank=True, related_name='violations') operator_address = models.TextField(blank=True, null=True) operator_name = models.CharField(max_length=200, blank=True, null=True) operator_pd_number = models.CharField(max_length=50, blank=True, null=True)  # Additional Violation Details street_name = models.CharField(max_length=200, blank=True, null=True) landmark = models.CharField(max_length=200, blank=True, null=True) violation_code = models.CharField(max_length=10, blank=True, null=True) violation_time = models.TimeField(null=True, blank=True) vehicle_photo = models.ImageField(upload_to='vehicle_photos/', blank=True, null=True) secondary_photo = models.ImageField(upload_to='secondary_photos/', blank=True, null=True)  # Existing Fields violator = models.ForeignKey(Violator, on_delete=models.CASCADE, related_name='violations') user_account = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, blank=True, related_name='account_violations', help_text="If the violator is a registered user, link violation to their account") enforcer = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, related_name='issued_violations') violation_date = models.DateTimeField(default=timezone.now) location = models.CharField(max_length=200) violation_type = models.TextField(help_text="Type of violation or comma-separated list of violations") violation_type_obj = models.ForeignKey(ViolationType, on_delete=models.SET_NULL, null=True, blank=True, related_name='violations', verbose_name="Violation Type") fine_amount = models.DecimalField(max_digits=10, decimal_places=2) is_tdz_violation = models.BooleanField(default=False, help_text="Whether the violation occurred in a Traffic Discipline Zone, which doubles the fine") image = models.ImageField(upload_to=get_ncap_image_path, null=True, blank=True) status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='PENDING') description = models.TextField(blank=True) payment_due_date = models.DateField(null=True, blank=True) enforcer_signature_date = models.DateTimeField(null=True, blank=True) violator_signature = models.ImageField(upload_to='signatures/', null=True, blank=True) violator_signature_date = models.DateTimeField(null=True, blank=True) vehicle_type = models.CharField(max_length=100, choices=[ ('Jeepney', 'Jeepney'), ('Tricycle', 'Tricycle'), ('Potpot', 'Potpot'), ('Other', 'Other') ], default='Tricycle') classification = models.CharField(max_length=20, choices=VEHICLE_CLASSIFICATIONS, blank=True, null=True) plate_number = models.CharField(max_length=20, blank=True, null=True) color = models.CharField(max_length=50, blank=True, null=True) registration_number = models.CharField(max_length=50, blank=True, null=True) registration_date = models.DateField(null=True, blank=True) vehicle_owner = models.CharField(max_length=200, blank=True, null=True) vehicle_owner_address = models.TextField(blank=True, null=True) violation_types = models.TextField(default='[]')  # Store JSON as text original_violation_types = models.TextField(blank=True, null=True, help_text="Original violation types before adjudication (stored as JSON)") original_fine_amount = models.DecimalField(max_digits=10, decimal_places=2, null=True, blank=True, help_text="Original fine amount before adjudication") receipt_number = models.CharField(max_length=50, blank=True, null=True) receipt_date = models.DateField(blank=True, null=True) payment_remarks = models.TextField(blank=True, null=True)  # Adjudication fields adjudicated_by = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, related_name='adjudicated_violations') adjudication_date = models.DateTimeField(null=True, blank=True) adjudication_remarks = models.TextField(blank=True, null=True)  # Approval fields approved_by = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, related_name='approved_violations') approval_date = models.DateTimeField(null=True, blank=True) rejection_reason = models.TextField(blank=True, null=True)  # Payment fields payment_date = models.DateTimeField(null=True, blank=True) payment_amount = models.DecimalField(max_digits=10, decimal_places=2, null=True, blank=True) processed_by = models.ForeignKey(User, on_delete=models.SET_NULL, null=True, related_name='processed_payments')  def save(self, *args, **kwargs): if not self.payment_due_date: self.payment_due_date = timezone.now() + timezone.timedelta(days=7)  # If using a ViolationType object and this is a new record or the type changed, update the fine amount if self.violation_type_obj and (not self.pk or 'violation_type_obj' in kwargs.get('update_fields', [])): # Set the fine amount from the violation type, but only if not manually overridden if not self.fine_amount or self.fine_amount == 0: self.fine_amount = self.violation_type_obj.amount  # If in a Traffic Discipline Zone, double the fine amount if self.is_tdz_violation: self.fine_amount *= 2  super().save(*args, **kwargs)  def __str__(self): return f"Citation {self.id} - {self.violator.license_number}"  class Meta: ordering = ['-violation_date']  def set_violation_types(self, types_list): self.violation_types = json.dumps(types_list)  def get_violation_types(self):&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="5030" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_ViolationCertificate" value="&lt;b&gt;ViolationCertificate&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="5110" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_ViolationType" value="&lt;b&gt;ViolationType&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;"""Model to store violation types and their associated fine amounts""" name = models.CharField(max_length=100, unique=True) description = models.TextField(blank=True, null=True) amount = models.DecimalField(max_digits=10, decimal_places=2) category = models.CharField(max_length=100, choices=[ ('LICENSING', 'Licensing Violations'), ('REGISTRATION', 'Registration & Accessories'), ('DIMENSION', 'Dimensions & Load Limits'), ('FRANCHISE', 'Franchise & Permits'), ('OTHER', 'Other Violations') ]) classification = models.CharField( max_length=50, choices=[ ('REGULAR', 'Regular Violations'), ('NCAP', 'NCAP') ], default='REGULAR', help_text="Classification of violation (Regular for direct tickets, NCAP for uploaded violations)" ) is_active = models.BooleanField(default=True) is_ncap = models.BooleanField(default=False, help_text="Whether this violation type is for NCAP (Non-Contact Apprehension Program)") created_at = models.DateTimeField(auto_now_add=True) updated_at = models.DateTimeField(auto_now=True)  class Meta: verbose_name = "Violation Type" verbose_name_plural = "Violation Types" ordering = ['category', 'name']  def __str__(self): return f"{self.name} (â‚±{self.amount})"  def save(self, *args, **kwargs): # Ensure is_ncap and classification stay in sync if self.classification == 'NCAP': self.is_ncap = True else: self.is_ncap = False super().save(*args, **kwargs)   def get_ncap_image_path(instance, filename):&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="5190" width="400" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="entity_Violator" value="&lt;b&gt;Violator&lt;/b&gt;&lt;hr&gt;&lt;p style='margin:0px;margin-left:8px;'&gt;&lt;i&gt;&lt;/i&gt;&lt;/p&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="5270" width="400" height="290" as="geometry" />
        </mxCell>
        
            <mxCell id="entity_Violator_field_0" value="&lt;span style='color:red'&gt;*&lt;/span&gt; first_name: CharField [max_length=100]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="50" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_1" value="&lt;span style='color:red'&gt;*&lt;/span&gt; last_name: CharField [max_length=100]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="80" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_2" value="license_number: CharField [max_length=20]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="110" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_3" value="phone_number: CharField [max_length=15]" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="140" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_4" value="address: TextField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="170" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_5" value="&lt;span style='color:red'&gt;*&lt;/span&gt; created_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="200" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_6" value="&lt;span style='color:red'&gt;*&lt;/span&gt; updated_at: DateTimeField" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="230" width="400" height="30" as="geometry" />
            </mxCell>
            
            <mxCell id="entity_Violator_field_7" value="&lt;span style='color:red'&gt;*&lt;/span&gt; condition: Q" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;whiteSpace=wrap;html=1;" vertex="1" parent="entity_Violator">
              <mxGeometry y="260" width="400" height="30" as="geometry" />
            </mxCell>
            